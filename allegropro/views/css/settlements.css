/* AllegroPro - Admin Settlements UI (PrestaShop 8.2.x)
   Keep this file standalone to avoid Smarty parsing issues with { } in templates.
*/

.alpro-page{max-width:1600px;margin:0 auto;}

/* Header */
.alpro-head{display:flex;align-items:flex-start;justify-content:space-between;gap:12px;flex-wrap:wrap;}
.alpro-head .title{display:flex;align-items:center;gap:10px;min-width:260px;}
.alpro-head .title .material-icons{opacity:.9;}
.alpro-head .meta{font-size:12px;color:#6c757d;display:flex;align-items:center;gap:8px;flex-wrap:wrap;}

/* Filters */
.alpro-filters{display:grid;grid-template-columns:1fr auto;gap:14px;align-items:start;}
.alpro-filters .filters-left{display:block;}
.alpro-filters .filters-right{display:flex;gap:10px;align-items:flex-start;justify-content:flex-end;flex-wrap:wrap;}
.alpro-filter-row{display:flex;flex-wrap:wrap;gap:12px;align-items:end;}
.alpro-filters .form-group{margin-bottom:0;}
.alpro-filters label{font-size:12px;color:#495057;}

.alpro-accountbar{padding-bottom:12px;margin-bottom:12px;border-bottom:1px solid rgba(0,0,0,.06);}
.alpro-accountbar .form-group{margin-bottom:0;}
.alpro-filter-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;align-items:end;}
.alpro-filter-actions{display:flex;align-items:end;}
.alpro-ms__empty{padding:10px 2px;font-size:12px;color:#6c757d;}

.alpro-accounts{min-width:260px;}
.alpro-accounts[multiple]{height:38px;}

/* Account select (Select2 if available) */
.select2-container{min-width:260px;}
.select2-container--default .select2-selection--multiple{min-height:38px;border-radius:10px;border:1px solid #ced4da;}
.select2-container--default .select2-selection--multiple .select2-selection__rendered{padding:3px 8px;}
.select2-container--default .select2-selection--multiple .select2-selection__choice{margin-top:4px;}
.alpro-filters,.alpro-filter-row{overflow:visible;}
.alpro-select-all{display:inline-block;font-size:12px;color:#0b6aa2;margin-top:4px;text-decoration:none;}
.alpro-select-all:hover{text-decoration:underline;}

.alpro-muted{font-size:12px;color:#8a93a0;margin-top:2px;}


/* Dashboard layout: cards (left) + structure chart (right) */
.alpro-dashboard{display:grid;grid-template-columns:minmax(520px,1fr) minmax(420px,600px);gap:16px;align-items:start;}
.alpro-dashboard__left{min-width:0;}
.alpro-dashboard__right{min-width:0;}
@media (max-width: 1200px){
  .alpro-dashboard{grid-template-columns:1fr;}
}


/* KPI cards */
.alpro-kpi-grid{display:grid;grid-template-columns:repeat(12,1fr);gap:12px;}
.alpro-kpi-grid--compact{grid-template-columns:repeat(2,minmax(0,1fr));}
.alpro-kpi-grid--compact .alpro-kpi{grid-column:span 1;}
.alpro-kpi-grid--compact .alpro-kpi .value{font-size:20px;}
@media (max-width: 680px){.alpro-kpi-grid--compact{grid-template-columns:1fr;}}
.alpro-kpi{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:14px;padding:14px 16px;position:relative;overflow:hidden;}
.alpro-kpi:hover{border-color:rgba(0,0,0,.14);}
.alpro-kpi .top{display:flex;align-items:flex-start;justify-content:space-between;gap:10px;}
.alpro-kpi .label{font-size:12px;color:#6c757d;margin-bottom:6px;}
.alpro-kpi .value{font-size:22px;font-weight:800;line-height:1.1;}
.alpro-kpi .sub{font-size:12px;color:#6c757d;margin-top:6px;}
.alpro-kpi .icon{width:34px;height:34px;border-radius:10px;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.04);}
.alpro-kpi .icon svg{width:20px;height:20px;opacity:.9;}

.alpro-kpi--sales{grid-column:span 3;border-left:4px solid rgba(23,162,184,.55);} /* info */
.alpro-kpi--fees{grid-column:span 3;border-left:4px solid rgba(220,53,69,.55);}  /* danger */
.alpro-kpi--net{grid-column:span 3;border-left:4px solid rgba(40,167,69,.55);}   /* success */
.alpro-kpi--commission{grid-column:span 3;border-left:4px solid rgba(111,66,193,.45);} /* purple */
.alpro-kpi--delivery{grid-column:span 3;border-left:4px solid rgba(0,123,255,.45);} /* blue */
.alpro-kpi--promo{grid-column:span 3;border-left:4px solid rgba(255,193,7,.5);} /* warning */
.alpro-kpi--refundpending{grid-column:span 3;border-left:4px solid rgba(253,126,20,.55);} /* orange */

@media (max-width: 1300px){
  .alpro-kpi--sales,.alpro-kpi--fees,.alpro-kpi--net,.alpro-kpi--commission,.alpro-kpi--delivery,.alpro-kpi--promo,.alpro-kpi--refundpending{grid-column:span 6;}
}
@media (max-width: 820px){
  .alpro-filters{grid-template-columns:1fr;}
  .alpro-filters .filters-right{justify-content:flex-start;}
  .alpro-account-pick{width:100%;}
  .alpro-kpi--sales,.alpro-kpi--fees,.alpro-kpi--net,.alpro-kpi--commission,.alpro-kpi--delivery,.alpro-kpi--promo,.alpro-kpi--refundpending{grid-column:span 12;}
}

/* Breakdown */
.alpro-break{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:14px;padding:14px 16px;}
.alpro-break .row{display:grid;grid-template-columns:130px 1fr 120px;gap:10px;align-items:center;padding:8px 0;border-bottom:1px solid rgba(0,0,0,.06);}
.alpro-break .row:last-child{border-bottom:none;}
.alpro-break .name{font-size:12px;color:#495057;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.alpro-break .amount{text-align:right;font-size:12px;color:#495057;white-space:nowrap;}
.alpro-bar{height:10px;border-radius:999px;background:rgba(0,0,0,.04);overflow:hidden;}
.alpro-bar > span{display:block;height:100%;width:0;min-width:0;border-radius:999px;background:rgba(0,0,0,.35);} 
.alpro-bar--danger > span{background:rgba(220,53,69,.55);} 
.alpro-bar--info > span{background:rgba(23,162,184,.55);} 
.alpro-bar--success > span{background:rgba(40,167,69,.55);} 
.alpro-bar--warning > span{background:rgba(255,193,7,.65);} 
.alpro-bar--purple > span{background:rgba(111,66,193,.55);} 

/* Table */
.alpro-id{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:12px;}
.alpro-idwrap{display:flex;align-items:center;gap:8px;}
.alpro-idwrap .alpro-id{white-space:nowrap;word-break:break-word;}
.alpro-copy{display:inline-flex;align-items:center;justify-content:center;width:26px;height:26px;border-radius:8px;border:1px solid rgba(0,0,0,.06);background:rgba(0,0,0,.03);color:#495057;}
.alpro-copy:hover{background:rgba(0,0,0,.06);text-decoration:none;}
.alpro-copy.is-copied{background:rgba(40,167,69,.15);border-color:rgba(40,167,69,.35);color:#1e7e34;}
.alpro-table thead th{white-space:nowrap;}
.alpro-table tbody td{vertical-align:middle;}
.alpro-badge{display:inline-flex;align-items:center;gap:6px;padding:5px 10px;border-radius:999px;border:1px solid rgba(0,0,0,.06);background:rgba(0,0,0,.03);font-size:12px;color:#495057;}

.alpro-table-footer{display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;padding:12px 16px;border-top:1px solid rgba(0,0,0,.06);}
.alpro-table-footer .muted{font-size:12px;color:#6c757d;}

/* Pagination */
.alpro-pagination .pagination{margin:0;}
.alpro-pagination .page-link{border-radius:10px;margin-left:4px;margin-right:4px;}

/* Details */
.alpro-details-grid{display:grid;grid-template-columns:repeat(12,1fr);gap:12px;}
.alpro-details-grid .box{grid-column:span 3;background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:14px;padding:14px 16px;}
@media (max-width: 1200px){
  .alpro-details-grid .box{grid-column:span 6;}
}
@media (max-width: 820px){
  .alpro-details-grid .box{grid-column:span 12;}
}

/* Modal */
.alpro-modal{position:fixed;inset:0;z-index:9999;display:none;}
.alpro-modal.is-open{display:block;}
.alpro-modal__backdrop{position:absolute;inset:0;background:rgba(0,0,0,.45);}
.alpro-modal__dialog{position:relative;margin:42px auto;max-width:1100px;width:calc(100% - 36px);background:#fff;border-radius:16px;box-shadow:0 12px 40px rgba(0,0,0,.25);overflow:hidden;}
.alpro-modal__dialog--wide{max-width:1280px;}

/* clickable badge */
a.alpro-unassigned-open{color:#212529;text-decoration:none;}
a.alpro-unassigned-open:hover{color:#212529;text-decoration:none;filter:brightness(.95);}

/* modal - unassigned */
.alpro-unassigned-toolbar{display:flex;gap:10px;align-items:flex-end;flex-wrap:wrap;margin-bottom:12px;}
.alpro-unassigned-toolbar .form-group{margin:0;}
.alpro-unassigned-summary{display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin:6px 0 12px 0;color:#6c757d;}
.alpro-unassigned-summary strong{color:#212529;}
.alpro-unassigned-pager{display:flex;gap:8px;align-items:center;justify-content:flex-end;margin-top:10px;}
.alpro-unassigned-pager .btn{padding:4px 10px;}
.alpro-modal__head{display:flex;align-items:flex-start;justify-content:space-between;gap:12px;padding:16px 18px;border-bottom:1px solid rgba(0,0,0,.08);}
.alpro-modal__title{display:flex;flex-direction:column;gap:4px;}
.alpro-modal__meta{font-size:12px;color:#6c757d;}
.alpro-modal__close{border:0;background:rgba(0,0,0,.04);border-radius:10px;width:34px;height:34px;line-height:34px;text-align:center;font-size:22px;cursor:pointer;}
.alpro-modal__close:hover{background:rgba(0,0,0,.07);}
.alpro-modal__body{padding:16px 18px;max-height:calc(100vh - 130px);overflow:auto;}

.alpro-modal__loading{display:flex;align-items:center;gap:10px;color:#6c757d;}
.alpro-spinner{width:18px;height:18px;border-radius:50%;border:2px solid rgba(0,0,0,.15);border-top-color:rgba(0,0,0,.45);animation:alproSpin .9s linear infinite;}
@keyframes alproSpin{to{transform:rotate(360deg);}}

/* Modal content */
.alpro-modal-kpis{display:grid;grid-template-columns:repeat(12,1fr);gap:12px;margin-bottom:12px;}
.alpro-modal-kpis .kpi{grid-column:span 3;background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:14px;padding:12px 14px;}
.alpro-modal-kpis .kpi .label{font-size:12px;color:#6c757d;margin-bottom:6px;}
.alpro-modal-kpis .kpi .value{font-size:20px;font-weight:900;line-height:1.1;}
.alpro-modal-kpis .kpi .sub{font-size:12px;color:#6c757d;margin-top:6px;}
@media (max-width: 1100px){.alpro-modal-kpis .kpi{grid-column:span 6;}}
@media (max-width: 720px){.alpro-modal-kpis .kpi{grid-column:span 12;}}

.alpro-modal-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:12px;}
@media (max-width: 920px){.alpro-modal-grid{grid-template-columns:1fr;}}

.alpro-panel{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:14px;padding:14px 16px;}
.alpro-panel .hd{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:10px;}
.alpro-panel .hd .t{font-weight:800;}
.alpro-panel .hd .muted{font-size:12px;color:#6c757d;}

.alpro-breakdown-table{width:100%;border-collapse:separate;border-spacing:0 6px;}
.alpro-breakdown-table td{padding:8px 10px;font-size:13px;}
.alpro-breakdown-table tr{background:rgba(0,0,0,.02);}
.alpro-breakdown-table tr td:first-child{border-top-left-radius:10px;border-bottom-left-radius:10px;}
.alpro-breakdown-table tr td:last-child{border-top-right-radius:10px;border-bottom-right-radius:10px;}
.alpro-breakdown-table .right{text-align:right;white-space:nowrap;}

/* Pie */
.alpro-pie-wrap{display:flex;align-items:center;gap:14px;flex-wrap:wrap;}
.alpro-pie{width:140px;height:140px;border-radius:50%;background:conic-gradient(rgba(111,66,193,.65) 0 1deg, rgba(0,0,0,.06) 1deg 360deg);position:relative;}
.alpro-pie::after{content:"";position:absolute;inset:22px;border-radius:50%;background:#fff;border:1px solid rgba(0,0,0,.06);}
.alpro-legend{display:flex;flex-direction:column;gap:6px;min-width:240px;}
.alpro-legend .it{display:flex;align-items:center;gap:8px;font-size:13px;}
.alpro-legend .dot{width:10px;height:10px;border-radius:50%;background:#999;flex:0 0 auto;}
.alpro-legend .name{flex:1;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.alpro-legend .val{white-space:nowrap;color:#495057;}

.alpro-dot--commission{background:rgba(111,66,193,.65);} 
.alpro-dot--delivery{background:rgba(0,123,255,.55);} 
.alpro-dot--smart{background:rgba(255,193,7,.75);} 
.alpro-dot--promotion{background:rgba(220,53,69,.6);} 
.alpro-dot--other{background:rgba(108,117,125,.55);} 
.alpro-dot--refunds{background:rgba(40,167,69,.6);} 

/* Items table in modal */
.alpro-items-table thead th{white-space:nowrap;}
.alpro-items-table tbody td{vertical-align:middle;}
.alpro-pill{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:999px;font-size:12px;border:1px solid rgba(0,0,0,.08);background:rgba(0,0,0,.03);} 
.alpro-pill--commission{border-color:rgba(111,66,193,.25);background:rgba(111,66,193,.08);} 
.alpro-pill--delivery{border-color:rgba(0,123,255,.22);background:rgba(0,123,255,.07);} 
.alpro-pill--smart{border-color:rgba(255,193,7,.28);background:rgba(255,193,7,.10);} 
.alpro-pill--promotion{border-color:rgba(220,53,69,.22);background:rgba(220,53,69,.07);} 
.alpro-pill--refunds{border-color:rgba(40,167,69,.22);background:rgba(40,167,69,.07);} 
.alpro-pill--other{border-color:rgba(108,117,125,.18);background:rgba(108,117,125,.06);} 


/* Structure (pie) on page */
.alpro-structure{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:14px;padding:14px 16px;}
.alpro-structure__head{display:flex;align-items:flex-start;justify-content:space-between;gap:12px;flex-wrap:wrap;margin-bottom:12px;}
.alpro-structure__head .ttl{font-weight:800;}
.alpro-structure__head .sub{font-size:12px;color:#6c757d;margin-top:2px;}
.alpro-structure__hint{display:flex;gap:8px;flex-wrap:wrap;align-items:center;}
.alpro-structure__hint .chip{display:inline-flex;align-items:center;gap:6px;padding:5px 10px;border-radius:999px;border:1px solid rgba(0,0,0,.06);background:rgba(0,0,0,.03);font-size:12px;color:#495057;}
.alpro-structure__grid{display:grid;grid-template-columns:280px 1fr;gap:14px;align-items:center;}
@media (max-width: 860px){.alpro-structure__grid{grid-template-columns:1fr;}}
.alpro-structure__grid{grid-template-columns:260px 1fr;align-items:start;}
.alpro-structure__chart{position:relative;width:220px;height:220px;margin:0;}
.alpro-structure__chart .alpro-pie{width:220px;height:220px;}
.alpro-structure__chart .alpro-pie::after{inset:40px;}
.alpro-pie-center{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;pointer-events:none;}
.alpro-pie-center .k{font-size:12px;color:#6c757d;margin-bottom:6px;}
.alpro-pie-center .v{font-size:20px;font-weight:900;line-height:1.1;}
.alpro-pie-center .sub{font-size:12px;color:#6c757d;margin-top:6px;}
.alpro-structure__legend{min-width:260px;}
.alpro-structure__legend{min-width:0;}

/* Legend table (main structure) */
.alpro-legend-title{font-weight:800;margin-bottom:4px;}
.alpro-legend-sub{font-size:12px;color:#6c757d;margin-bottom:10px;}
.alpro-legend-table{width:100%;border-collapse:separate;border-spacing:0;min-width:520px;}
.alpro-legend-table th{font-size:11px;text-transform:uppercase;letter-spacing:.02em;color:#6c757d;padding:10px 10px;border-bottom:1px solid rgba(0,0,0,.08);white-space:nowrap;}
.alpro-legend-table td{padding:10px 10px;border-bottom:1px solid rgba(0,0,0,.06);font-size:13px;vertical-align:middle;}
.alpro-legend-table tbody tr:hover{background:rgba(0,0,0,.02);}
.alpro-legend-table td.name{font-weight:600;color:#343a40;}
.alpro-legend-table .r{text-align:right;white-space:nowrap;}
.alpro-legend-table tr.is-note td{color:#6c757d;background:rgba(0,0,0,.015);}

.alpro-dot{display:inline-block;width:10px;height:10px;border-radius:50%;background:#999;}


/* Main legend: colored swatches + readable rows */
.alpro-swatch{display:inline-block;width:12px;height:12px;border-radius:4px;box-shadow:0 0 0 1px rgba(0,0,0,.08) inset;flex:0 0 auto;}
.alpro-swatch--commission{background:rgba(111,66,193,.65);} 
.alpro-swatch--delivery{background:rgba(0,123,255,.55);} 
.alpro-swatch--smart{background:rgba(255,193,7,.75);} 
.alpro-swatch--promotion{background:rgba(220,53,69,.6);} 
.alpro-swatch--other{background:rgba(108,117,125,.55);} 
.alpro-swatch--refunds{background:rgba(40,167,69,.6);} 

.alpro-legend-list{display:flex;flex-direction:column;gap:10px;margin-top:10px;}
.alpro-legend-row{display:grid;grid-template-columns:14px 1fr;gap:10px;align-items:start;}
.alpro-legend-row .nm{font-weight:700;color:#343a40;line-height:1.1;}
.alpro-legend-row .meta{display:flex;flex-wrap:wrap;gap:10px;margin-top:4px;color:#495057;font-size:12px;}
.alpro-legend-row .meta .pill{display:inline-flex;gap:6px;align-items:center;padding:4px 8px;border-radius:999px;background:rgba(0,0,0,.03);border:1px solid rgba(0,0,0,.06);} 
.alpro-legend-row.is-note .nm{color:#495057;}

/* Account picker (custom multiselect) */
.alpro-account-pick{display:flex;gap:10px;align-items:stretch;}
.alpro-account-pick .alpro-ms{flex:1 1 auto;min-width:260px;}
.alpro-btn-pick{height:38px;white-space:nowrap;}

/* Accounts multiselect (no external libs) */
.alpro-account-group{min-width:340px;}
.alpro-ms{position:relative;min-width:340px;}
.alpro-ms__btn{width:100%;height:38px;display:flex;align-items:center;justify-content:space-between;gap:10px;background:#fff;border:1px solid #ced4da;border-radius:10px;padding:8px 10px;cursor:pointer;}
.alpro-ms__btn:hover{border-color:rgba(0,0,0,.25);} 
.alpro-ms__btnText{display:block;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#212529;}
.alpro-ms__chev{color:#6c757d;font-size:14px;flex:0 0 auto;}
.alpro-ms__menu{position:absolute;top:calc(100% + 6px);left:0;right:0;background:#fff;border:1px solid rgba(0,0,0,.12);border-radius:14px;box-shadow:0 10px 26px rgba(0,0,0,.14);z-index:2000;display:none;}
.alpro-ms__menu.open{display:block;}
.alpro-ms__menuHead{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:10px;padding:10px 12px;border-bottom:1px solid rgba(0,0,0,.06);} 
.alpro-ms__menuHead .alpro-ms__hint{order:1;}
.alpro-ms__menuHead .alpro-ms__menuActions{order:2;}
.alpro-ms__menuHead .alpro-ms__search{order:3;flex:1 1 100%;width:100%;}

.alpro-ms__search{
  padding:7px 10px;
  border:1px solid rgba(0,0,0,.12);
  border-radius:10px;
  font-size:13px;
  outline:none;
}
.alpro-ms__search:focus{border-color:rgba(0,0,0,.22);}
.alpro-ms__hint{font-size:12px;color:#6c757d;}
.alpro-ms__menuActions a{font-size:12px;color:#0b6aa2;text-decoration:none;margin-left:10px;}
.alpro-ms__menuActions a:hover{text-decoration:underline;}
.alpro-ms__list{max-height:240px;overflow:auto;padding:6px 10px;}
.alpro-ms__item{display:flex;align-items:flex-start;gap:8px;padding:6px 4px;margin:0;cursor:pointer;font-size:13px;line-height:1.25;}
.alpro-ms__item input{margin-top:2px;}


/* Sync progress modal (modern) */
#alproSyncModal .modal-dialog.alpro-sync-modal{max-width:820px;}
#alproSyncModal .alpro-sync-modal__content{border-radius:18px;overflow:hidden;border:1px solid rgba(0,0,0,.08);box-shadow:0 14px 46px rgba(0,0,0,.22);}
#alproSyncModal .alpro-sync-modal__head{padding:14px 16px;border-bottom:1px solid rgba(0,0,0,.06);background:#fff;}
#alproSyncModal .alpro-sync-modal__body{padding:14px 16px;background:#fbfbfd;}
#alproSyncModal .alpro-sync-modal__foot{padding:12px 16px;border-top:1px solid rgba(0,0,0,.06);background:#fff;display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;}
#alproSyncModal .close{opacity:.65;}
#alproSyncModal .close:hover{opacity:.9;}

.alpro-sync-head{display:flex;align-items:center;gap:12px;}
.alpro-sync-head__icon{width:40px;height:40px;border-radius:12px;background:rgba(79,70,229,.12);display:flex;align-items:center;justify-content:center;color:#4f46e5;flex:0 0 auto;}
.alpro-sync-head__icon .material-icons{font-size:20px;}
.alpro-sync-head__title{font-size:18px;font-weight:900;line-height:1.1;color:#212529;}
.alpro-sync-head__sub{font-size:12px;color:#6c757d;margin-top:2px;}

.alpro-sync-card{background:#fff;border:1px solid rgba(0,0,0,.06);border-radius:16px;padding:14px 14px;margin-bottom:12px;box-shadow:0 8px 20px rgba(0,0,0,.03);}
.alpro-sync-card__title{font-weight:900;color:#343a40;margin-bottom:10px;}

.alpro-radio{display:flex;gap:10px;align-items:flex-start;margin:0 0 10px 0;cursor:pointer;}
.alpro-radio input{margin-top:3px;}
.alpro-sync-hint{font-size:12px;color:#6c757d;margin-top:4px;}

.alpro-sync-overall__row{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:8px;}
.alpro-sync-overall__label{font-size:12px;color:#6c757d;font-weight:800;}
.alpro-sync-overall__pct{font-size:12px;font-weight:900;color:#495057;}

.alpro-progress{height:10px;border-radius:999px;background:rgba(0,0,0,.06);overflow:hidden;}
.alpro-progress--sm{height:8px;margin-top:2px;}
/* wymuś widoczny fill (BO potrafi nadpisać .progress-bar) */
.alpro-progress .progress-bar{
  background:#4f46e5;
  border-radius:999px;
  height:100%;
  transition:width .25s ease;
}
.alpro-progress .progress-bar.is-indeterminate{
  width:35%;
  animation:alpro-indet 1.1s ease-in-out infinite;
}
@keyframes alpro-indet{0%{transform:translateX(-120%);}100%{transform:translateX(320%);}}

.alpro-sync-now{margin-top:10px;font-size:13px;color:#495057;display:flex;gap:6px;flex-wrap:wrap;}
.alpro-sync-now .k{font-weight:900;color:#6c757d;}
.alpro-sync-now .v{font-weight:800;color:#212529;}

.alpro-sync-step__title{display:flex;align-items:center;gap:10px;font-weight:900;color:#343a40;margin-bottom:8px;font-size:13px;}
.alpro-step-badge{display:inline-flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:8px;background:rgba(79,70,229,.12);color:#4f46e5;font-size:12px;font-weight:900;}
.alpro-muted{font-size:12px;color:#6c757d;margin-top:6px;}

.alpro-sync-details{display:flex;flex-direction:column;gap:10px;margin-top:2px;}
.alpro-sync-log{
  max-height:220px;overflow:auto;padding:10px;border:1px solid rgba(0,0,0,.08);
  border-radius:14px;background:#0b1220;color:#e5e7eb;
  font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,"Liberation Mono","Courier New", monospace;
  font-size:12px;white-space:pre-wrap;
}

.alpro-sync-summary__grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px;}
@media(min-width:768px){.alpro-sync-summary__grid{grid-template-columns:repeat(4,minmax(0,1fr));}}
.alpro-sync-metric{border:1px solid rgba(0,0,0,.06);background:rgba(0,0,0,.015);border-radius:14px;padding:10px;}
.alpro-sync-metric .label{font-size:11px;color:#6c757d;font-weight:900;}
.alpro-sync-metric .value{font-size:18px;font-weight:900;color:#212529;margin-top:2px;}
.alpro-sync-summary__note{margin-top:10px;font-size:12px;color:#495057;}

.alpro-sync-foot-right{display:flex;gap:10px;align-items:center;flex-wrap:wrap;}
#alproSyncModal .alpro-sync-foot-right .btn .material-icons{font-size:18px;vertical-align:middle;margin-right:6px;}


/* Sub-tabs (Orders / Do wyjaśnienia / Operacje billing) */
#alproSubTabs{display:flex;gap:10px;flex-wrap:wrap;margin:0;padding:0;border-bottom:1px solid rgba(0,0,0,.08) !important;}
#alproSubTabs .nav-item{margin:0;}
#alproSubTabs .nav-link{
  cursor:pointer;
  border:1px solid rgba(0,0,0,.12);
  background:rgba(0,0,0,.03);
  border-radius:999px;
  padding:8px 14px;
  font-weight:600;
  color:#222;
  transition:background .15s ease, box-shadow .15s ease, border-color .15s ease;
}
#alproSubTabs .nav-link:hover{background:#fff;box-shadow:0 1px 2px rgba(0,0,0,.06);}
#alproSubTabs .nav-link.active{
  background:#fff;
  border-color:rgba(0,0,0,.22);
  box-shadow:0 2px 6px rgba(0,0,0,.08);
}
#alproSubTabs .nav-link .badge{vertical-align:middle;margin-left:6px;border-radius:999px;padding:2px 8px;}
/* manual tab panes (BO Bootstrap sometimes doesn't toggle on Symfony Order view) */
.tab-content .tab-pane{display:none;}
.tab-content .tab-pane.is-active{display:block;}

/* Sort links in table headers *//* Sort links in table headers */
.alpro-sort{color:inherit;text-decoration:none;display:inline-flex;align-items:center;gap:6px;}
.alpro-sort:hover{text-decoration:underline;}
.alpro-sort__arr{font-size:11px;opacity:.75;}

/* External link icon (open Presta order) */
.alpro-ext{margin-left:6px;color:#6c757d;text-decoration:none;}
.alpro-ext:hover{color:#343a40;text-decoration:none;}


/* ============================
 * Modern UI: Unassigned modal
 * ============================ */
.spinner{width:18px;height:18px;border-radius:50%;border:2px solid rgba(0,0,0,.15);border-top-color:rgba(0,0,0,.45);animation:alproSpin .9s linear infinite;}

.alpro-modal__title--row{flex-direction:row;align-items:center;gap:12px;}
.alpro-modal__icon{width:34px;height:34px;border-radius:12px;background:rgba(0,0,0,.04);display:flex;align-items:center;justify-content:center;flex:0 0 auto;}
.alpro-modal__icon .material-icons{font-size:20px;color:#495057;}
.alpro-modal__titleText{display:flex;flex-direction:column;gap:2px;min-width:0;}
.alpro-unassigned-modal .alpro-modal__head{background:linear-gradient(180deg, rgba(0,0,0,.02), rgba(0,0,0,0));}

.alpro-unassigned-toolbar{display:grid;grid-template-columns:minmax(260px,2fr) minmax(160px,1fr) minmax(120px,160px) auto;gap:12px;align-items:end;padding:12px;background:rgba(0,0,0,.02);border:1px solid rgba(0,0,0,.06);border-radius:14px;}
.alpro-unassigned-toolbar .form-group{margin:0;}
.alpro-unassigned-toolbar .form-control{border-radius:12px;}
.alpro-unassigned-toolbar .btn{border-radius:12px;height:38px;padding:0 14px;}
@media (max-width: 980px){.alpro-unassigned-toolbar{grid-template-columns:1fr 1fr;}}
@media (max-width: 680px){.alpro-unassigned-toolbar{grid-template-columns:1fr;}}

.alpro-chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;border:1px solid rgba(0,0,0,.06);background:rgba(0,0,0,.02);font-size:12px;color:#495057;}
.alpro-chip strong{color:#212529;}
.alpro-chip--neg strong{color:#dc3545;}
.alpro-chip--pos strong{color:#28a745;}

.alpro-unassigned-summary{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin:0 0 12px 0;color:#6c757d;}
.alpro-unassigned-summary__spacer{flex:1 1 auto;}
.alpro-unassigned-page{font-size:12px;color:#6c757d;}

.alpro-table-card{background:#fff;border:1px solid rgba(0,0,0,.06);border-radius:14px;overflow:hidden;}
.alpro-unassigned-table thead th{position:sticky;top:0;background:#fff;z-index:1;white-space:nowrap;}
.alpro-unassigned-table tbody td{vertical-align:middle;}
.alpro-td--nowrap{white-space:nowrap;}

.alpro-amount{font-weight:800;}
.alpro-amount.is-neg{color:#dc3545;}
.alpro-amount.is-pos{color:#28a745;}
.alpro-amount.is-zero{color:#6c757d;}

.alpro-code{font-size:12px;display:inline-block;max-width:320px;overflow:hidden;text-overflow:ellipsis;vertical-align:middle;}

.alpro-copybtn{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:10px;background:rgba(0,0,0,.04);text-decoration:none;vertical-align:middle;}
.alpro-copybtn:hover{background:rgba(0,0,0,.08);text-decoration:none;}
.alpro-copybtn .material-icons{font-size:16px;color:#495057;}

.alpro-unassigned-pager{margin-top:12px;}
.alpro-unassigned-pager .alpro-pagebtn{width:34px;height:34px;padding:0;border-radius:12px;}


/* Sub-tabs (Orders / Do wyjaśnienia / Operacje billing) */
#alproSubTabs{display:flex;gap:10px;flex-wrap:wrap;margin:0;padding:0;border-bottom:1px solid rgba(0,0,0,.08) !important;}
#alproSubTabs .nav-item{margin:0;}
#alproSubTabs .nav-link{
  cursor:pointer;
  border:1px solid rgba(0,0,0,.12);
  background:rgba(0,0,0,.03);
  border-radius:999px;
  padding:8px 14px;
  font-weight:600;
  color:#222;
  transition:background .15s ease, box-shadow .15s ease, border-color .15s ease;
}
#alproSubTabs .nav-link:hover{background:#fff;box-shadow:0 1px 2px rgba(0,0,0,.06);}
#alproSubTabs .nav-link.active{
  background:#fff;
  border-color:rgba(0,0,0,.22);
  box-shadow:0 2px 6px rgba(0,0,0,.08);
}
#alproSubTabs .nav-link .badge{vertical-align:middle;margin-left:6px;border-radius:999px;padding:2px 8px;}
/* manual tab panes (BO Bootstrap sometimes doesn't toggle on Symfony Order view) */
.tab-content .tab-pane{display:none;}
.tab-content .tab-pane.is-active{display:block;}

/* Sort links in table headers */


/* ============================
   Sub-tabs block (under charts)
   ============================ */
.alpro-subtabs-card{
  margin-top:18px;
  border-radius:16px;
  border:1px solid #e5e7eb;
  box-shadow:0 10px 26px rgba(15, 23, 42, 0.06);
  overflow:hidden;
}
.alpro-subtabs-card .card-header.alpro-subtabs-head{
  background:#fff;
  border-bottom:1px solid #eef1f6;
  padding:14px 16px;
}
.alpro-subtabs-head__row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;
}
.alpro-subtabs-meta{
  display:flex;
  align-items:center;
  gap:8px;
  flex-wrap:wrap;
}

.alpro-subtabs-nav{
  list-style:none;
  margin:0;
  padding:6px;
  display:flex;
  align-items:center;
  gap:6px;
  background:#f2f4f7;
  border-radius:999px;
}
.alpro-subtabs-nav__item{margin:0;padding:0;}
.alpro-subtabs-nav__link{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:10px 14px;
  border-radius:999px;
  border:0;
  background:transparent;
  color:#3b4654;
  font-weight:700;
  font-size:13px;
  text-decoration:none;
  white-space:nowrap;
  transition:background .15s ease, box-shadow .15s ease, transform .15s ease;
}
.alpro-subtabs-nav__link:hover{
  background:rgba(255,255,255,.7);
  text-decoration:none;
}
.alpro-subtabs-nav__link.active{
  background:#fff;
  color:#111827;
  box-shadow:0 10px 18px rgba(15,23,42,.10);
}
.alpro-pill{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:20px;
  height:20px;
  padding:0 6px;
  border-radius:999px;
  font-size:12px;
  font-weight:800;
  line-height:20px;
}
.alpro-pill--danger{background:#ffe4e6;color:#9f1239;}

.tab-content.alpro-subtabs-content{
  padding:16px;
  background:#fff;
}
/* ensure panes work even if BO CSS overrides */
.tab-content.alpro-subtabs-content .tab-pane{display:none;}
.tab-content.alpro-subtabs-content .tab-pane.is-active{display:block;}
